#!/bin/bash

# Create the CSV file and write the header
echo "name,height,weight" > pokemon_report.csv

# Loop through all JSON files in the current directory
for file in *.json
do
  # Extract the name, height, and weight and append to the CSV file
  jq -r '. | "\(.name),\(.height),\(.weight)"' "$file" >> pokemon_report.csv
done

# Calculate the average height and weight using awk
awk -F, 'NR>1 {height+=$2; weight+=$3; count++} END {print "Average Height: " height/count "\nAverage Weight: " weight/count}' pokemon_report.csv
